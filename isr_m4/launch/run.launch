<launch>
  <arg name="use_joy" default="false" />
  <arg name="use_imu" default="true" />
  <arg name="use_lidar" default="true" />
  <arg name="use_camera" default="true" />
  <arg name="publish_odom_tf" default="false" />
  <arg name="enable_pointcloud" default="true" />

  <!-- Run ISR-M4 Base using keyboard or joystick -->
  <include file="$(find isr_m4)/launch/run_base.launch">
    <arg name="use_joy" value="$(arg use_joy)" />
    <arg name="publish_odom_tf" value="$(arg publish_odom_tf)" />
  </include>

  <!-- Run Sensors -->
  <include file="$(find isr_m4)/launch/include/sensors.launch">
    <arg name="use_lidar" value="$(arg use_lidar)" />
    <arg name="use_camera" value="$(arg use_camera)" />
    <arg name="use_imu" value="$(arg use_imu)" />
    <arg name="enable_pointcloud" value="$(arg enable_pointcloud)" />
  </include>

  <!-- Rviz -->
  <node name="rviz_isr_m4" pkg="rviz" type="rviz" args="-d $(find isr_m4)/launch/rviz/isr_m4.rviz" />

</launch>