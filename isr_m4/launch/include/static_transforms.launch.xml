<launch>
  <arg name="use_lidar" default="true" />
  <arg name="use_camera" default="true" />
  <arg name="use_imu" default="true" />

  <group if="$(arg use_camera)">
    <!-- Realsense D435i at left-->
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_base_to_rs_left"
      args="0.15 0.244 0.297 1.5708 0.423 3.14159 base_link camera_left_link" />

    <!-- Realsense D435i at right-->
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_base_to_rs_right"
      args="-0.04 -0.224 0.295 -1.6008 0.383 3.16159 base_link camera_right_link" />

    <!-- Zed2 at front -->
    <!-- Note: See sensors/zed2.launch file -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_base_to_zed2_front"
      args="0.40 0 0.405 0 0.3590 0 base_link zed2_base_link" />
  </group>

  <!-- Velodyne VLP-16 -->
  <group if="$(arg use_lidar)">
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_base_to_velodyne"
      args="0.21 0 0.585 0 -0.005 0 base_link velodyne" />
  </group>

  <!-- Xsens IMU -->
  <group if="$(arg use_imu)">
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_base_to_imu"
      args="0.3 0 0.355 0 0 0 base_link imu_link" />
  </group>

  <!-- Below is needed for rosbag play: recorded /static_tf seems unstable... -->
  <group if="$(arg use_camera)">
    <!-- Realsense D435i at left from URDF: Don't change this value -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_rs_left_to_rs_color_optical"
      args="0.000 -0.059 -0.000 -1.569 -0.002 -1.571 camera_left_link camera_left_color_optical_frame" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_rs_left_to_rs_depth_optical"
      args="0 0 0 -1.571 -0.000 -1.571 camera_left_link camera_left_depth_optical_frame" />

    <!-- Realsense D435i at right from URDF: Don't change this value -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_rs_right_to_rs_color_optical"
      args="0.000, -0.059, -0.000 -1.569 -0.002 -1.571 camera_right_link camera_right_color_optical_frame" />
    <node pkg="tf2_ros" type="static_transform_publisher" name="tf_rs_right_to_rs_depth_optical"
      args="0 0 0 -1.571 -0.000 -1.571 camera_right_link camera_right_depth_optical_frame" />

    <!-- Zed2 Camera URDF-->
    <param name="zed2_description"
      command="$(find xacro)/xacro '$(find zed_wrapper)/urdf/zed_descr.urdf.xacro'
         camera_name:=zed2
         camera_model:=zed2
         base_frame:=base_link
         cam_pos_x:=0.40
         cam_pos_y:=0.0
         cam_pos_z:=0.405
         cam_roll:=0.0
         cam_pitch:=0.3590
         cam_yaw:=0.0"
    />

  </group>


</launch>